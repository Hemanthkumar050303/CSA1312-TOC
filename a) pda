#include <stdio.h>
#include <string.h>

char stack[20];
int top = -1;
int count = 0;

void push() {
    top++;
    stack[top] = '0';  // Represent each '0' with a symbol
    stack[top + 1] = '\0';
}

int pop() {
    if (top < 0) {
        return 0; // Underflow
    } else {
        stack[top] = '\0';
        top--;
        return 1;
    }
}

int main() {
    char input[20];
    int i;

    printf("Simulation of PDA for n 0's followed by 2n 1's\n");
    printf("Enter a string: ");
    scanf("%s", input);

    int len = strlen(input);
    int one_count = 0;

    printf("Stack\tInput\n");

    for (i = 0; i < len; i++) {
        if (input[i] != '0' && input[i] != '1') {
            printf("Invalid character in input. Only 0s and 1s are allowed.\n");
            return 0;
        }

        // If '0', push to stack
        if (input[i] == '0') {
            push();
        } 
        // If '1', pop for every second '1'
        else if (input[i] == '1') {
            one_count++;
            if (one_count % 2 == 0) {
                if (!pop()) {
                    printf("%s\t%s\n", stack, &input[i]);
                    printf("String NOT accepted (more 1s than twice 0s or invalid order).\n");
                    return 0;
                }
            }
        }

        printf("%s\t%s\n", stack, &input[i + 1]);
    }

    // After input is processed
    if (top == -1 && one_count % 2 == 0) {
        printf("String accepted\n");
    } else {
        printf("String NOT accepted (either 1s ? 2 Ã— 0s or extra symbols on stack).\n");
    }

    return 0;
}
